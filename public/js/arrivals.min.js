function FastClick(a){"use strict";var b,c=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=a,!a||!a.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return FastClick.prototype.onClick.apply(c,arguments)},this.onMouse=function(){return FastClick.prototype.onMouse.apply(c,arguments)},this.onTouchStart=function(){return FastClick.prototype.onTouchStart.apply(c,arguments)},this.onTouchMove=function(){return FastClick.prototype.onTouchMove.apply(c,arguments)},this.onTouchEnd=function(){return FastClick.prototype.onTouchEnd.apply(c,arguments)},this.onTouchCancel=function(){return FastClick.prototype.onTouchCancel.apply(c,arguments)},FastClick.notNeeded(a)||(this.deviceIsAndroid&&(a.addEventListener("mouseover",this.onMouse,!0),a.addEventListener("mousedown",this.onMouse,!0),a.addEventListener("mouseup",this.onMouse,!0)),a.addEventListener("click",this.onClick,!0),a.addEventListener("touchstart",this.onTouchStart,!1),a.addEventListener("touchmove",this.onTouchMove,!1),a.addEventListener("touchend",this.onTouchEnd,!1),a.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(a.removeEventListener=function(b,c,d){var e=Node.prototype.removeEventListener;"click"===b?e.call(a,b,c.hijacked||c,d):e.call(a,b,c,d)},a.addEventListener=function(b,c,d){var e=Node.prototype.addEventListener;"click"===b?e.call(a,b,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(a,b,c,d)}),"function"==typeof a.onclick&&(b=a.onclick,a.addEventListener("click",function(a){b(a)},!1),a.onclick=null))}FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,FastClick.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),FastClick.prototype.deviceIsIOS4=FastClick.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),FastClick.prototype.deviceIsIOSWithBadTarget=FastClick.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),FastClick.prototype.needsClick=function(a){"use strict";switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===a.type||a.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(a.className)},FastClick.prototype.needsFocus=function(a){"use strict";switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},FastClick.prototype.sendClick=function(a,b){"use strict";var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},FastClick.prototype.determineEventType=function(a){"use strict";return this.deviceIsAndroid&&"select"===a.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(a){"use strict";var b;this.deviceIsIOS&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},FastClick.prototype.updateScrollParent=function(a){"use strict";var b,c;if(b=a.fastClickScrollParent,!b||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(a){"use strict";return a.nodeType===Node.TEXT_NODE?a.parentNode:a},FastClick.prototype.onTouchStart=function(a){"use strict";var b,c,d;if(a.targetTouches.length>1)return!0;if(b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0],this.deviceIsIOS){if(d=window.getSelection(),d.rangeCount&&!d.isCollapsed)return!0;if(!this.deviceIsIOS4){if(c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<200&&a.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(a){"use strict";var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c?!0:!1},FastClick.prototype.onTouchMove=function(a){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(a){"use strict";return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(a){"use strict";var b,c,d,e,f,g=this.targetElement;if(!this.trackingClick)return!0;if(a.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=a.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(f=a.changedTouches[0],g=document.elementFromPoint(f.pageX-window.pageXOffset,f.pageY-window.pageYOffset)||g,g.fastClickScrollParent=this.targetElement.fastClickScrollParent),d=g.tagName.toLowerCase(),"label"===d){if(b=this.findControl(g)){if(this.focus(g),this.deviceIsAndroid)return!1;g=b}}else if(this.needsFocus(g))return a.timeStamp-c>100||this.deviceIsIOS&&window.top!==window&&"input"===d?(this.targetElement=null,!1):(this.focus(g),this.deviceIsIOS4&&"select"===d||(this.targetElement=null,a.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(e=g.fastClickScrollParent,e&&e.fastClickLastScrollTop!==e.scrollTop)?!0:(this.needsClick(g)||(a.preventDefault(),this.sendClick(g,a)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(a){"use strict";return this.targetElement?a.forwardedTouchEvent?!0:a.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1):!0:!0:!0},FastClick.prototype.onClick=function(a){"use strict";var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail?!0:(b=this.onMouse(a),b||(this.targetElement=null),b)},FastClick.prototype.destroy=function(){"use strict";var a=this.layer;this.deviceIsAndroid&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(a){"use strict";var b,c;if("undefined"==typeof window.ontouchstart)return!0;if(c=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!FastClick.prototype.deviceIsAndroid)return!0;if(b=document.querySelector("meta[name=viewport]")){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(c>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===a.style.msTouchAction?!0:!1},FastClick.attach=function(a){"use strict";return new FastClick(a)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,function(a,b){"use strict";var c=c||function(c){var d={element:null,dragger:null,disable:"none",addBodyClasses:!0,hyperextensible:!0,resistance:.5,flickThreshold:50,transitionSpeed:.3,easing:"ease",maxPosition:266,minPosition:-266,tapToClose:!0,touchToDrag:!0,slideIntent:40,minDragDistance:5},e={simpleStates:{opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},f={},g={hasTouch:"ontouchstart"in b.documentElement||a.navigator.msPointerEnabled,eventType:function(a){var b={down:g.hasTouch?"touchstart":"mousedown",move:g.hasTouch?"touchmove":"mousemove",up:g.hasTouch?"touchend":"mouseup",out:g.hasTouch?"touchcancel":"mouseout"};return b[a]},page:function(a,b){return g.hasTouch&&b.touches.length&&b.touches[0]?b.touches[0]["page"+a]:b["page"+a]},klass:{has:function(a,b){return-1!==a.className.indexOf(b)},add:function(a,b){!g.klass.has(a,b)&&d.addBodyClasses&&(a.className+=" "+b)},remove:function(a,b){d.addBodyClasses&&(a.className=a.className.replace(b,"").replace(/^\s+|\s+$/g,""))}},dispatchEvent:function(a){return"function"==typeof f[a]?f[a].call():void 0},vendor:function(){var a,c=b.createElement("div"),d="webkit Moz O ms".split(" ");for(a in d)if("undefined"!=typeof c.style[d[a]+"Transition"])return d[a]},transitionCallback:function(){return"Moz"===e.vendor||"ms"===e.vendor?"transitionend":e.vendor+"TransitionEnd"},canTransform:function(){return"undefined"!=typeof d.element.style[e.vendor+"Transform"]},deepExtend:function(a,b){var c;for(c in b)b[c]&&b[c].constructor&&b[c].constructor===Object?(a[c]=a[c]||{},g.deepExtend(a[c],b[c])):a[c]=b[c];return a},angleOfDrag:function(a,b){var c,d;return d=Math.atan2(-(e.startDragY-b),e.startDragX-a),0>d&&(d+=2*Math.PI),c=Math.floor(d*(180/Math.PI)-180),0>c&&c>-180&&(c=360-Math.abs(c)),Math.abs(c)},events:{addEvent:function(a,b,c){return a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):void 0},removeEvent:function(a,b,c){return a.addEventListener?a.removeEventListener(b,c,!1):a.attachEvent?a.detachEvent("on"+b,c):void 0},prevent:function(a){a.preventDefault?a.preventDefault():a.returnValue=!1}},parentUntil:function(a,b){for(var c="string"==typeof b;a.parentNode;){if(c&&a.getAttribute&&a.getAttribute(b))return a;if(!c&&a===b)return a;a=a.parentNode}return null}},h={translate:{get:{matrix:function(b){if(g.canTransform()){var c=a.getComputedStyle(d.element)[e.vendor+"Transform"].match(/\((.*)\)/),f=8;return c?(c=c[1].split(","),16===c.length&&(b+=f),parseInt(c[b],10)):0}return parseInt(d.element.style.left,10)}},easeCallback:function(){d.element.style[e.vendor+"Transition"]="",e.translation=h.translate.get.matrix(4),e.easing=!1,clearInterval(e.animatingInterval),0===e.easingTo&&(g.klass.remove(b.body,"snapjs-right"),g.klass.remove(b.body,"snapjs-left")),g.dispatchEvent("animated"),g.events.removeEvent(d.element,g.transitionCallback(),h.translate.easeCallback)},easeTo:function(a){g.canTransform()?(e.easing=!0,e.easingTo=a,d.element.style[e.vendor+"Transition"]="all "+d.transitionSpeed+"s "+d.easing,e.animatingInterval=setInterval(function(){g.dispatchEvent("animating")},1),g.events.addEvent(d.element,g.transitionCallback(),h.translate.easeCallback),h.translate.x(a)):(e.translation=a,h.translate.x(a)),0===a&&(d.element.style[e.vendor+"Transform"]="")},x:function(c){if(!("left"===d.disable&&c>0||"right"===d.disable&&0>c))if(d.hyperextensible||(c===d.maxPosition||c>d.maxPosition?c=d.maxPosition:(c===d.minPosition||c<d.minPosition)&&(c=d.minPosition)),c=parseInt(c,10),isNaN(c)&&(c=0),g.canTransform()){var f="translate3d("+c+"px, 0,0)";d.element.style[e.vendor+"Transform"]=f}else d.element.style.width=(a.innerWidth||b.documentElement.clientWidth)+"px",d.element.style.left=c+"px",d.element.style.right=""}},drag:{listen:function(){e.translation=0,e.easing=!1,g.events.addEvent(d.element,g.eventType("down"),h.drag.startDrag),g.events.addEvent(d.element,g.eventType("move"),h.drag.dragging),g.events.addEvent(d.element,g.eventType("up"),h.drag.endDrag)},stopListening:function(){g.events.removeEvent(d.element,g.eventType("down"),h.drag.startDrag),g.events.removeEvent(d.element,g.eventType("move"),h.drag.dragging),g.events.removeEvent(d.element,g.eventType("up"),h.drag.endDrag)},startDrag:function(a){var b=a.target?a.target:a.srcElement,c=g.parentUntil(b,"data-snap-ignore");if(c)return g.dispatchEvent("ignore"),void 0;if(d.dragger){var f=g.parentUntil(b,d.dragger);if(!f&&e.translation!==d.minPosition&&e.translation!==d.maxPosition)return}g.dispatchEvent("start"),d.element.style[e.vendor+"Transition"]="",e.isDragging=!0,e.hasIntent=null,e.intentChecked=!1,e.startDragX=g.page("X",a),e.startDragY=g.page("Y",a),e.dragWatchers={current:0,last:0,hold:0,state:""},e.simpleStates={opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},dragging:function(a){if(e.isDragging&&d.touchToDrag){var c,f=g.page("X",a),i=g.page("Y",a),j=e.translation,k=h.translate.get.matrix(4),l=f-e.startDragX,m=k>0,n=l;if(e.intentChecked&&!e.hasIntent)return;if(d.addBodyClasses&&(k>0?(g.klass.add(b.body,"snapjs-left"),g.klass.remove(b.body,"snapjs-right")):0>k&&(g.klass.add(b.body,"snapjs-right"),g.klass.remove(b.body,"snapjs-left"))),e.hasIntent===!1||null===e.hasIntent){var o=g.angleOfDrag(f,i),p=o>=0&&o<=d.slideIntent||360>=o&&o>360-d.slideIntent,q=o>=180&&o<=180+d.slideIntent||180>=o&&o>=180-d.slideIntent;e.hasIntent=q||p?!0:!1,e.intentChecked=!0}if(d.minDragDistance>=Math.abs(f-e.startDragX)||e.hasIntent===!1)return;g.events.prevent(a),g.dispatchEvent("drag"),e.dragWatchers.current=f,e.dragWatchers.last>f?("left"!==e.dragWatchers.state&&(e.dragWatchers.state="left",e.dragWatchers.hold=f),e.dragWatchers.last=f):e.dragWatchers.last<f&&("right"!==e.dragWatchers.state&&(e.dragWatchers.state="right",e.dragWatchers.hold=f),e.dragWatchers.last=f),m?(d.maxPosition<k&&(c=(k-d.maxPosition)*d.resistance,n=l-c),e.simpleStates={opening:"left",towards:e.dragWatchers.state,hyperExtending:d.maxPosition<k,halfway:k>d.maxPosition/2,flick:Math.abs(e.dragWatchers.current-e.dragWatchers.hold)>d.flickThreshold,translation:{absolute:k,relative:l,sinceDirectionChange:e.dragWatchers.current-e.dragWatchers.hold,percentage:k/d.maxPosition*100}}):(d.minPosition>k&&(c=(k-d.minPosition)*d.resistance,n=l-c),e.simpleStates={opening:"right",towards:e.dragWatchers.state,hyperExtending:d.minPosition>k,halfway:k<d.minPosition/2,flick:Math.abs(e.dragWatchers.current-e.dragWatchers.hold)>d.flickThreshold,translation:{absolute:k,relative:l,sinceDirectionChange:e.dragWatchers.current-e.dragWatchers.hold,percentage:k/d.minPosition*100}}),h.translate.x(n+j)}},endDrag:function(a){if(e.isDragging){g.dispatchEvent("end");var b=h.translate.get.matrix(4);if(0===e.dragWatchers.current&&0!==b&&d.tapToClose)return g.dispatchEvent("close"),g.events.prevent(a),h.translate.easeTo(0),e.isDragging=!1,e.startDragX=0,void 0;"left"===e.simpleStates.opening?e.simpleStates.halfway||e.simpleStates.hyperExtending||e.simpleStates.flick?e.simpleStates.flick&&"left"===e.simpleStates.towards?h.translate.easeTo(0):(e.simpleStates.flick&&"right"===e.simpleStates.towards||e.simpleStates.halfway||e.simpleStates.hyperExtending)&&h.translate.easeTo(d.maxPosition):h.translate.easeTo(0):"right"===e.simpleStates.opening&&(e.simpleStates.halfway||e.simpleStates.hyperExtending||e.simpleStates.flick?e.simpleStates.flick&&"right"===e.simpleStates.towards?h.translate.easeTo(0):(e.simpleStates.flick&&"left"===e.simpleStates.towards||e.simpleStates.halfway||e.simpleStates.hyperExtending)&&h.translate.easeTo(d.minPosition):h.translate.easeTo(0)),e.isDragging=!1,e.startDragX=g.page("X",a)}}}},i=function(a){a.element&&(g.deepExtend(d,a),e.vendor=g.vendor(),h.drag.listen())};this.open=function(a){g.dispatchEvent("open"),g.klass.remove(b.body,"snapjs-expand-left"),g.klass.remove(b.body,"snapjs-expand-right"),"left"===a?(e.simpleStates.opening="left",e.simpleStates.towards="right",g.klass.add(b.body,"snapjs-left"),g.klass.remove(b.body,"snapjs-right"),h.translate.easeTo(d.maxPosition)):"right"===a&&(e.simpleStates.opening="right",e.simpleStates.towards="left",g.klass.remove(b.body,"snapjs-left"),g.klass.add(b.body,"snapjs-right"),h.translate.easeTo(d.minPosition))},this.close=function(){g.dispatchEvent("close"),h.translate.easeTo(0)},this.expand=function(c){var d=a.innerWidth||b.documentElement.clientWidth;"left"===c?(g.dispatchEvent("expandLeft"),g.klass.add(b.body,"snapjs-expand-left"),g.klass.remove(b.body,"snapjs-expand-right")):(g.dispatchEvent("expandRight"),g.klass.add(b.body,"snapjs-expand-right"),g.klass.remove(b.body,"snapjs-expand-left"),d*=-1),h.translate.easeTo(d)},this.on=function(a,b){return f[a]=b,this},this.off=function(a){f[a]&&(f[a]=!1)},this.enable=function(){g.dispatchEvent("enable"),h.drag.listen()},this.disable=function(){g.dispatchEvent("disable"),h.drag.stopListening()},this.settings=function(a){g.deepExtend(d,a)},this.state=function(){var a,b=h.translate.get.matrix(4);return a=b===d.maxPosition?"left":b===d.minPosition?"right":"closed",{state:a,info:e.simpleStates}},i(c)};"undefined"!=typeof module&&module.exports&&(module.exports=c),"undefined"==typeof ender&&(this.Snap=c),"function"==typeof define&&define.amd&&define("snap",[],function(){return c})}.call(this,window,document);var busTimes=function(){function a(a,e){var f=window.location,g=f.pathname.substr(2),h=g.split("/"),i=[];h.forEach(function(a){a.length>1&&i.push(a)}),$("#refresh").on("click",function(){var a=$(".navbar-brand").attr("id");busTimes.goToStop(a)}),$.ajax({url:"/location?lat="+a+"&lng="+e+"&stops="+i.toString(),success:function(a){$(".arrivalRow").html(a),document.getElementById("selectStops")&&document.getElementById("sidebarContent").appendChild(document.getElementById("selectStops")),$("#loading").css("visibility","hidden"),$(".primaryContent").css("visibility","visible"),$(".navbar-brand").html($("#closestStop").html()).attr("id",$("#closestStop").attr("data-stopid")),b(),c($("#closestStop").attr("data-lat"),$("#closestStop").attr("data-lng")),$(".stop").on("click",function(a){a.preventDefault(),$(".snap-drawer li > a").css("color","#777"),$(this).css("color","#FF992C");var b=$(this).attr("id");$(".navbar-brand").html($(this).html()),$(".navbar-brand").attr("id",$(this).attr("id")),busTimes.goToStop(b),d.close(),c($(this).attr("data-lat"),$(this).attr("data-lng"))})}})}function b(){$(".arrivalRow").css("padding-bottom",function(){var a=window.innerHeight-$(".navbar").height()-$(".arrivalRow").height()-55;return $(".arrivalRow").height()>window.innerHeight?(console.log("returning 0"),"0"):(console.log("returning margin"),a+"px")}),$("#footer").css("visibility","visible")}function c(a,b){d3.select("#sidebarContent svg").remove();var a=parseFloat(a),b=parseFloat(b),c=$(".snap-drawer-left").width(),d=window.innerHeight-25,e=d3.geo.tile().size([c,d]),f=d3.geo.mercator().center([b,a]).scale(4194304/Math.PI).translate([c/2,d/1.4]),g=d3.geo.path().projection(f),h=d3.select("#sidebarContent").append("svg").attr("width",c).attr("height",d);h.selectAll("g").data(e.scale(2*f.scale()*Math.PI).translate(f([0,0]))).enter().append("g").each(function(a){var b=d3.select(this);d3.json("http://"+["a","b","c"][(31*a[0]+a[1])%3]+".tile.openstreetmap.us/vectiles-highroad/"+a[2]+"/"+a[0]+"/"+a[1]+".json",function(a,c){b.selectAll("path").data(c.features.sort(function(a,b){return a.properties.sort_key-b.properties.sort_key})).enter().append("path").attr("class",function(a){return a.properties.kind}).attr("d",g)})}),h.append("circle").attr("r",5).attr("fill","#719fbd").attr("stroke","#6597B8").attr("transform","translate("+f([b,a])+")")}var d;return{init:function(){$("#loading").css("visibility","visible"),FastClick.attach(document.body),d=new Snap({element:document.getElementById("content"),disable:"right"}),$("#menu-toggle").on("click",function(a){a.preventDefault();var b=d.state();"closed"===b.state?d.open("left"):d.close("left")}),function(a,b,c){if(c in b&&b[c]){var d,e=a.location,f=/^(a|html)$/i;a.addEventListener("click",function(a){for(d=a.target;!f.test(d.nodeName);)d=d.parentNode;"href"in d&&(d.href.indexOf("http")||~d.href.indexOf(e.host))&&(a.preventDefault(),e.href=d.href)},!1)}}(document,window.navigator,"standalone"),busTimes.getPosition()},getPosition:function(){navigator.geolocation.getCurrentPosition(function(b){var c=b.coords.latitude,d=b.coords.longitude;a(c,d)},function(){alert("Error retrieving current location.");var b=43.07325,c=-89.40074;a(b,c)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:100})},goToStop:function(a){$("#loading").css("visibility","visible"),$("#footer").css("visibility","hidden"),$(".primaryContent").css("visibility","hidden"),$.ajax({url:"/times?id="+a,success:function(a){$("#firstArrivalHolder").html(a),$("#loading").css("visibility","hidden"),b(),$(".primaryContent").css("visibility","visible")}})}}}();busTimes.init();